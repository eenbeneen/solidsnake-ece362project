.program hub75_shift
; OUT: 6 data pins (R1,G1,B1,R2,G2,B2)
; SIDESET: 1 pin (CLK)
.side_set 1

.wrap_target
    pull block           ; wait until CPU provides data
    set x, 63            ; 64 pixels

loop:
    out pins, 6 side 0   ; output next 6 bits, CLK low
    nop         side 1   ; CLK high
    nop         side 0   ; CLK low
    jmp x-- loop         ; repeat 64 times

    irq 0                ; signal "done shifting this row"
.wrap
